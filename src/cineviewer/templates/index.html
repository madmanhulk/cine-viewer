<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cine Viewer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Sidebar Controls -->
        <aside class="sidebar">
            <div class="logo">
                <h1>Cine Viewer</h1>
                <p class="subtitle">v{{ version }} - Reid Petro</p>
            </div>

            <!-- File Upload -->
            <div class="control-section">
                <button id="openImageBtn" class="btn btn-primary">Open Image</button>
                <input type="file" id="fileInput" accept="image/*" style="display: none;">
            </div>

            <!-- Center Cross -->
            <div class="control-section">
                <button id="centerBtn" class="btn">Center Cross</button>
                <div class="sub-controls" id="centerControls" style="display: none;">
                    <button class="sub-btn" data-center-type="standard">Standard</button>
                    <button class="sub-btn" data-center-type="small" style="background-color: #4CAF50; color: white;">Small</button>
                    <button class="sub-btn" data-center-type="square">Square</button>
                </div>
            </div>

            <!-- Thirds Grid -->
            <div class="control-section">
                <button id="thirdsBtn" class="btn">Thirds Grid</button>
                <div class="slider-control" id="thirdsControls" style="display: none;">
                    <label for="thirdsSlider">Line Thickness:</label>
                    <input type="range" id="thirdsSlider" min="1" max="5" value="1">
                    <span id="sliderValue">1</span>
                </div>
            </div>

            <!-- False Color -->
            <div class="control-section">
                <button id="falsecolorBtn" class="btn">False Color</button>
                <div class="sub-controls" id="falsecolorControls" style="display: none;">
                    <button class="sub-btn" data-fc-type="ARRI" style="background-color: #4CAF50; color: white;">ARRI</button>
                    <button class="sub-btn" data-fc-type="Blackmagic">Blackmagic</button>
                </div>
            </div>

            <!-- Vectorscope -->
            <div class="control-section">
                <button id="vectorscopeBtn" class="btn">Vectorscope</button>
            </div>

            <!-- Image Info -->
            <div class="info-section">
                <h3>Image Information</h3>
                <p>Resolution: <span id="resolutionInfo">-</span></p>
                <p>Aspect Ratio: <span id="aspectRatioInfo">-</span></p>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Image and Vectorscope Wrapper -->
            <div class="image-vectorscope-wrapper">
                <!-- Image Display -->
                <div class="image-container">
                    <canvas id="imageCanvas" class="image-canvas"></canvas>
                    <div class="placeholder" id="placeholder">
                        <p>Select Open Image or drag into program to get started</p>
                    </div>
                </div>

                <!-- Vectorscope -->
                <div class="vectorscope-container" id="vectorscopeContainer" style="display: none;">
                    <canvas id="vectorscopeCanvas" class="vectorscope-canvas"></canvas>
                </div>
            </div>

            <!-- Histogram -->
            <div class="histogram-container">
                <canvas id="histogramCanvas" class="histogram-canvas"></canvas>
            </div>

            <!-- False Color Legend -->
            <div class="legend-container" id="legendContainer" style="display: none;">
                <canvas id="legendCanvas" class="legend-canvas"></canvas>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
